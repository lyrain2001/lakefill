# LakeFill environment - minimal direct dependencies
# Install: conda env create -f env.yaml
# Activate: conda activate lakefill
# Pip will resolve transitive deps; omit nvidia-* so CPU machines work (torch uses CPU if no CUDA).

name: lakefill
channels:
  - conda-forge
  - defaults
dependencies:
  - python=3.10.8
  - pip
  - pip:
      # Retriever
      - faiss-cpu==1.7.4
      - farm-haystack==1.20.0
      # Embeddings / models
      - torch==2.8.0
      - transformers==4.32.1
      - sentence-transformers==2.2.2
      # Imputation + runner (azure-identity for Entra ID when key auth disabled)
      - openai==2.20.0
      - azure-identity>=1.15.0
      - pandas==2.3.3
      - numpy==1.26.4
      - tqdm==4.67.3
      - pyyaml==6.0.3
      - jsonlines==4.0.0
      - python-dotenv==1.2.1
      # Optional (scripts / submitit)
      - elasticsearch==8.9.0
      - hydra-core==1.3.2
      - hydra-submitit-launcher==1.2.0
